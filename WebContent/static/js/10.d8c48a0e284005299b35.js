webpackJsonp([10],{"2BXA":function(e,t,r){"use strict";function a(e){r("WPxE")}Object.defineProperty(t,"__esModule",{value:!0});var n=r("3cXf"),o=r.n(n),i=r("Wohg"),l=r("9nTB"),s=r("TIfe"),c={data:function(){return{createDialogVisible:!1,cascaderData:[],rangeCheckedData:[],defaultProps:{children:"subMenu",label:"MENU_NAME"},ruleForm:{ROLE_NAME:""},rules:{ROLE_NAME:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}]}}},created:function(){this.createDialogVisible=!0,this.addRoleTree()},methods:{addRoleFun:function(){this.createDialogVisible=!0,this.addRoleTree()},addRoleTree:function(){var e=this;this.createDialogVisible=!0;var t={USER_ID:Object(s.c)(),RIGHTS:Object(s.b)().RIGHTS};Object(i.a)(t).then(function(t){e.cascaderData=t})},addTreeFun:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.createDialogVisible=!1,t.rangeCheckedData=t.$refs.tree2.getCheckedKeys(),console.log("this.rangeCheckedData:::"+o()(t.rangeCheckedData));var r={ROLE_NAME:t.ruleForm.ROLE_NAME,PARENT_ID:"",RIGHTS:t.rangeCheckedData.map(function(e){return e}).join(),ADD_QX:"",DEL_QX:"",EDIT_QX:"",QUR_QX:"",ROLE_TYPE:"2"};Object(l.d)(r).then(function(e){console.log("保存"+o()(e)),t.$router.push({name:"binder_list"})})})},handleClose:function(e){this.$confirm("确认关闭？").then(function(){e()}).catch(function(){})}}},d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create_wrap"},[r("div",{staticClass:"add_role"},[r("i",{staticClass:"el-icon-plus",on:{click:e.addRoleFun}}),e._v(" "),r("p",[e._v("新建角色")])]),e._v(" "),r("el-dialog",{attrs:{title:"新建角色",visible:e.createDialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.createDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称:",prop:"ROLE_NAME"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"角色名称"},model:{value:e.ruleForm.ROLE_NAME,callback:function(t){e.$set(e.ruleForm,"ROLE_NAME",t)},expression:"ruleForm.ROLE_NAME"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"功能权限:"}},[r("el-tree",{ref:"tree2",staticStyle:{height:"150px",overflow:"auto"},attrs:{data:e.cascaderData,"show-checkbox":"","node-key":"MENU_ID","default-expanded-keys":e.rangeCheckedData,"default-checked-keys":e.rangeCheckedData,props:e.defaultProps}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addTreeFun("ruleForm")}}},[e._v("保存")])],1)],1)],1)},u=[],p={render:d,staticRenderFns:u},A=p,f=r("/Xao"),g=a,E=f(c,A,!1,g,null,null);t.default=E.exports},WPxE:function(e,t,r){var a=r("vl+7");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("XkoO")("13cb917f",a,!0)},"vl+7":function(e,t,r){t=e.exports=r("acE3")(!0),t.push([e.i,"\n.create_wrap {\n  background: #FFFFFF;\n  padding: 20px 0;\n}\n.create_wrap .add_role {\n    width: 150px;\n    background: #EEEEEE;\n    border-radius: 8px;\n    padding: 25px 0;\n    text-align: center;\n    margin-left: 20px;\n}\n.create_wrap .add_role i {\n      font-size: 50px;\n      cursor: pointer;\n}\n","",{version:3,sources:["E:/IBM_terminal2/src/views/authority/index.vue"],names:[],mappings:";AACA;EACE,oBAAoB;EACpB,gBAAgB;CACjB;AACD;IACI,aAAa;IACb,oBAAoB;IACpB,mBAAmB;IACnB,gBAAgB;IAChB,mBAAmB;IACnB,kBAAkB;CACrB;AACD;MACM,gBAAgB;MAChB,gBAAgB;CACrB",file:"index.vue",sourcesContent:["\n.create_wrap {\n  background: #FFFFFF;\n  padding: 20px 0;\n}\n.create_wrap .add_role {\n    width: 150px;\n    background: #EEEEEE;\n    border-radius: 8px;\n    padding: 25px 0;\n    text-align: center;\n    margin-left: 20px;\n}\n.create_wrap .add_role i {\n      font-size: 50px;\n      cursor: pointer;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=10.d8c48a0e284005299b35.js.map