webpackJsonp([2],{"2VXV":function(e,r,t){"use strict";function l(e){t("9DfK")}Object.defineProperty(r,"__esModule",{value:!0});var a=t("3cXf"),i=t.n(a),o=t("HzJ8"),n=t.n(o),s=t("w3CS"),u=t("A0+/"),c=t("9nTB"),m={name:"addEidtUser",data:function(){return{planName:"新建用户",editId:this.$route.params.id,ruleForm:{USERNAME:"",UNAME:"",ROLE_ID:"",UPOSITION:"",PHONE:"",EMAIL:"",UCOMPANY:"",STATUS:!1},rules:{USERNAME:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:8,message:"长度在3-8个字符之间",trigger:"blur"}],UNAME:[{required:!0,message:"请输入你的姓名",trigger:"blur"},{min:2,max:8,message:"长度在2-8个字符之间",trigger:"blur"}],UPOSITION:[{required:!0,message:"请输入你的职位",trigger:"blur"},{min:2,max:8,message:"长度在2-8个字符之间",trigger:"blur"}],UCOMPANY:[{required:!0,message:"请输入所属公司",trigger:"blur"},{min:2,max:20,message:"长度在2-20个字符之间",trigger:"blur"}],ROLE_ID:[{required:!0,message:"请选择课程分类",trigger:"change"}],PHONE:[{validator:s.a.isNumberValid,trigger:"blur"}],EMAIL:[{validator:s.a.isEailValid,trigger:"blur"}]},roleData:[]}},created:function(){this.editId&&(this.planName="编辑人员",this.editInit()),this.selectRole()},methods:{editInit:function(){var e=this,r={USER_ID:this.editId,limit:1,offset:5};Object(u.b)(r).then(function(r){var t=!0,l=!1,a=void 0;try{for(var o,s=n()(r.ALLUSER);!(t=(o=s.next()).done);t=!0){var u=o.value;1==u.STATUS?u.STATUS=!0:u.STATUS=!1,e.ruleForm=u,console.log(i()(u))}}catch(e){l=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(l)throw a}}})},selectRole:function(){var e=this;Object(c.c)().then(function(r){e.roleData=r.LISTROLEINFO})},updateFun:function(){var e=this,r={USER_ID:this.editId,USERNAME:this.ruleForm.USERNAME,UNAME:this.ruleForm.UNAME,ROLE_ID:this.ruleForm.ROLE_ID,STATUS:1==this.ruleForm.STATUS?1:0,EMAIL:this.ruleForm.STATUS,PHONE:this.ruleForm.PHONE,UCOMPANY:this.ruleForm.UCOMPANY,UPOSITION:this.ruleForm.UPOSITION};Object(u.g)(r).then(function(r){e.$message.success("修改用户成功"),e.$router.push({name:"systemUser_list"})})},complete:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t={USERNAME:r.ruleForm.USERNAME,UNAME:r.ruleForm.UNAME,ROLE_ID:r.ruleForm.ROLE_ID,STATUS:1==r.ruleForm.STATUS?1:0,EMAIL:r.ruleForm.STATUS,PHONE:r.ruleForm.PHONE,UGROUP:"",UCOMPANY:r.ruleForm.UCOMPANY,UCOSTCENTER:"",UPOSITION:r.ruleForm.UPOSITION,UORGANIZATION:"",INTERSTART:"",INTERDURA:"",OPENID:""};Object(u.e)(t).then(function(e){r.$message.success("添加用户成功"),r.$router.push({name:"systemUser_list"})})})},handleClose:function(e){this.$confirm("确认关闭？").then(function(){e()}).catch(function(){})}}},p=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"newbuilt_wrap",attrs:{"data-commont":"新建素材"}},[t("el-row",{staticClass:"back"},[t("el-col",{attrs:{span:.8}},[t("router-link",{attrs:{to:{path:"/systemUser_list"}}},[t("span",{staticClass:"el-icon-arrow-left back_span"},[e._v("返回")])])],1),e._v(" "),t("el-col",{staticStyle:{color:"#ccc"},attrs:{span:.4}},[e._v("|")]),e._v(" "),t("el-col",{attrs:{span:2}},[t("span",[e._v(e._s(e.planName))])])],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-col",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"USERNAME"}},[t("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的用户名"},model:{value:e.ruleForm.USERNAME,callback:function(r){e.$set(e.ruleForm,"USERNAME",r)},expression:"ruleForm.USERNAME"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户描述",prop:"UNAME"}},[t("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的用户描述"},model:{value:e.ruleForm.UNAME,callback:function(r){e.$set(e.ruleForm,"UNAME",r)},expression:"ruleForm.UNAME"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"角色",prop:"ROLE_ID"}},[t("el-select",{staticStyle:{width:"800px"},attrs:{placeholder:"请选择你的角色"},model:{value:e.ruleForm.ROLE_ID,callback:function(r){e.$set(e.ruleForm,"ROLE_ID",r)},expression:"ruleForm.ROLE_ID"}},e._l(e.roleData,function(e,r){return t("el-option",{key:e.ROLE_ID,attrs:{label:e.ROLE_NAME,value:e.ROLE_ID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"EMAIL"}},[t("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的职位"},model:{value:e.ruleForm.EMAIL,callback:function(r){e.$set(e.ruleForm,"EMAIL",r)},expression:"ruleForm.EMAIL"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"职位",prop:"UPOSITION"}},[t("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的职位"},model:{value:e.ruleForm.UPOSITION,callback:function(r){e.$set(e.ruleForm,"UPOSITION",r)},expression:"ruleForm.UPOSITION"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"PHONE"}},[t("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的手机号码"},model:{value:e.ruleForm.PHONE,callback:function(r){e.$set(e.ruleForm,"PHONE",r)},expression:"ruleForm.PHONE"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司",prop:"UCOMPANY"}},[t("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"输入你所属公司"},model:{value:e.ruleForm.UCOMPANY,callback:function(r){e.$set(e.ruleForm,"UCOMPANY",r)},expression:"ruleForm.UCOMPANY"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"状态"}},[t("el-checkbox",{model:{value:e.ruleForm.STATUS,callback:function(r){e.$set(e.ruleForm,"STATUS",r)},expression:"ruleForm.STATUS"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"complete",staticStyle:{"text-align":"center"}},[e.editId?t("span",[t("el-button",{staticStyle:{width:"100px",margin:"0 auto"},attrs:{type:"primary"},on:{click:function(r){e.updateFun("ruleForm")}}},[e._v("修改保存")])],1):t("span",[t("el-button",{staticStyle:{width:"100px",margin:"0 auto"},attrs:{type:"primary"},on:{click:function(r){e.complete("ruleForm")}}},[e._v("完成")])],1)])],1)},A=[],E={render:p,staticRenderFns:A},d=E,f=t("/Xao"),U=l,h=f(m,d,!1,U,null,null);r.default=h.exports},"9DfK":function(e,r,t){var l=t("lPvm");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);t("XkoO")("1055a34c",l,!0)},lPvm:function(e,r,t){r=e.exports=t("acE3")(!0),r.push([e.i,"\n.newbuilt_wrap {\n  background: #fff;\n  padding-bottom: 20px;\n}\n.newbuilt_wrap .back {\n    height: 50px;\n    line-height: 50px;\n    border-bottom: 1px solid #eee;\n    font-size: 1.4rem;\n}\n.newbuilt_wrap .back div {\n      margin-left: 10px;\n}\n","",{version:3,sources:["E:/IBM_terminal2/src/views/systemUser/addEditUser.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,qBAAqB;CACtB;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,8BAA8B;IAC9B,kBAAkB;CACrB;AACD;MACM,kBAAkB;CACvB",file:"addEditUser.vue",sourcesContent:["\n.newbuilt_wrap {\n  background: #fff;\n  padding-bottom: 20px;\n}\n.newbuilt_wrap .back {\n    height: 50px;\n    line-height: 50px;\n    border-bottom: 1px solid #eee;\n    font-size: 1.4rem;\n}\n.newbuilt_wrap .back div {\n      margin-left: 10px;\n}\n"],sourceRoot:""}])},w3CS:function(e,r,t){"use strict";var l={equalTo:function(e,r,t,l){""===r?l(new Error("请再次输入密码")):r!==t?l(new Error("两次输入密码不一致!")):l()},costValidator:function(e,r,t){/^[0-9]+(.[0-9]{2})?$/.test(r)?t():t(new Error("请输入金额"))},isNumberValid:function(e,r,t){if(!r)return t(new Error("不能为空"));/^[0-9]*$/.test(r)?t():t(new Error("请输入数字值"))},isHttpValid:function(e,r,t){if(!r)return t(new Error("不能为空"));/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(r)?t():t(new Error("请输入正确的链接"))},isEailValid:function(e,r,t){if(!r)return t(new Error("邮箱不能为空"));/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(r)?t():t(new Error("请输入正确的邮箱"))},isProhibitChinaValid:function(e,r,t){if(!r)return t(new Error("不能为空"));/^[^\u4e00-\u9fa5]+$/.test(r)?t():t(new Error("不能输入中文"))}};r.a=l}});
//# sourceMappingURL=2.fbe5f6ad2454804a9b4e.js.map